<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0">Danh sách dự án</h2>
    <div>
      <input type="text" class="form-control d-inline-block me-2" style="width: 250px;" placeholder="Tìm kiếm dự án...">
      <button class="btn btn-secondary">
        <i class="bi bi-funnel-fill"></i> Lọc
      </button>
    </div>
  </div>

  <div class="row g-4">

    <!-- Card dự án -->
    <div class="col-md-4">
        <div class="card h-100">
            <svg class="bd-placeholder-img card-img-top" height="180" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder" preserveAspectRatio="xMidYMid slice">
                <rect width="100%" height="100%" fill="#868e96"/>
                <text x="50%" y="50%" fill="#dee2e6" dy=".3em" text-anchor="middle">Image cap</text>
            </svg>
            
            <div class="card-body">
                <h5 class="card-title">Dự án A</h5>
                <p class="card-text mb-1"><strong>Ngày bắt đầu:</strong> 01/06/2025</p>
                <p class="card-text mb-1"><strong>Hạn hoàn thành:</strong> 30/08/2025</p>
                <p class="card-text mb-1"><strong>Trạng thái:</strong> 
                    <span class="badge bg-warning text-dark">Đang triển khai</span>
                </p>
                <p class="card-text mb-1"><strong>Ưu tiên:</strong> 
                    <span class="badge bg-danger">Cao</span>
                </p>
                <p class="card-text mb-2"><strong>Số lượng:</strong> 0/2</p>
                <p class="card-text mb-2"><strong>Tiến độ:</strong></p>

                <div class="progress mb-3">
                    <div class="progress-bar bg-success" style="width: 65%;">65%</div>
                </div>
                
                <div class="d-flex justify-content-between">
                    <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#projectDetailModal" onclick="fillProjectDetail('Dự án A')">Xem chi tiết</button>
                    <button class="btn btn-success btn-sm">Nhận dự án</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Card dự án - Hoàn thành - đủ người (1/1) -->
    <div class="col-md-4">
        <div class="card h-100">
            <svg class="bd-placeholder-img card-img-top" height="180" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder" preserveAspectRatio="xMidYMid slice">
                <rect width="100%" height="100%" fill="#868e96"/>
                <text x="50%" y="50%" fill="#dee2e6" dy=".3em" text-anchor="middle">Image cap</text>
            </svg>

            <div class="card-body">
                <h5 class="card-title">Dự án B</h5>
                <p class="card-text mb-1"><strong>Ngày bắt đầu:</strong> 10/05/2025</p>
                <p class="card-text mb-1"><strong>Hạn hoàn thành:</strong> 15/07/2025</p>
                <p class="card-text mb-1"><strong>Trạng thái:</strong> 
                    <span class="badge bg-success">Hoàn thành</span>
                </p>
                <p class="card-text mb-1"><strong>Ưu tiên:</strong> 
                    <span class="badge bg-warning text-dark">Trung bình</span>
                </p>
                <p class="card-text mb-2"><strong>Số lượng:</strong> 1/1</p>
                <p class="card-text mb-2"><strong>Tiến độ:</strong></p>

                <div class="progress mb-3">
                    <div class="progress-bar bg-success" style="width: 100%;">100%</div>
                </div>

                <div class="d-flex justify-content-between">
                    <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#projectDetailModal" onclick="fillProjectDetail('Dự án B')">Xem chi tiết</button>
                    <button class="btn btn-secondary btn-sm" disabled>Đã đủ người</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Card dự án - Chưa khởi công - còn chỗ (1/2) -->
    <div class="col-md-4">
        <div class="card h-100">
            <svg class="bd-placeholder-img card-img-top" height="180" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder" preserveAspectRatio="xMidYMid slice">
                <rect width="100%" height="100%" fill="#868e96"/>
                <text x="50%" y="50%" fill="#dee2e6" dy=".3em" text-anchor="middle">Image cap</text>
            </svg>

            <div class="card-body">
                <h5 class="card-title">Dự án C</h5>
                <p class="card-text mb-1"><strong>Ngày bắt đầu:</strong> 20/06/2025</p>
                <p class="card-text mb-1"><strong>Hạn hoàn thành:</strong> 25/09/2025</p>
                <p class="card-text mb-1"><strong>Trạng thái:</strong> 
                    <span class="badge bg-secondary">Chưa khởi công</span>
                    </p>
                <p class="card-text mb-1"><strong>Ưu tiên:</strong> 
                    <span class="badge bg-success">Thấp</span>
                    </p>
                <p class="card-text mb-2"><strong>Số lượng:</strong> 1/2</p>
                <p class="card-text mb-2"><strong>Tiến độ:</strong></p>

                <div class="progress mb-3">
                    <div class="progress-bar bg-secondary" style="width: 0%;">0%</div>
                </div>

                <div class="d-flex justify-content-between">
                    <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#projectDetailModal" onclick="fillProjectDetail('Dự án C')">Xem chi tiết</button>
                    <button class="btn btn-success btn-sm">Nhận dự án</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Card dự án - Chậm tiến độ - còn chỗ (0/1) -->
    <div class="col-md-4">
        <div class="card h-100">
            <svg class="bd-placeholder-img card-img-top" height="180" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder" preserveAspectRatio="xMidYMid slice">
                <rect width="100%" height="100%" fill="#868e96"/>
                <text x="50%" y="50%" fill="#dee2e6" dy=".3em" text-anchor="middle">Image cap</text>
            </svg>

            <div class="card-body">
                <h5 class="card-title">Dự án D</h5>
                <p class="card-text mb-1"><strong>Ngày bắt đầu:</strong> 01/06/2025</p>
                <p class="card-text mb-1"><strong>Hạn hoàn thành:</strong> 20/08/2025</p>
                <p class="card-text mb-1"><strong>Trạng thái:</strong> 
                    <span class="badge bg-danger">Chậm tiến độ</span>
                </p>
                <p class="card-text mb-1"><strong>Ưu tiên:</strong> 
                    <span class="badge bg-danger">Cao</span>
                </p>
                <p class="card-text mb-2"><strong>Số lượng:</strong> 0/1</p>
                <p class="card-text mb-2"><strong>Tiến độ:</strong></p>

                <div class="progress mb-3">
                    <div class="progress-bar bg-danger" style="width: 20%;">20%</div>
                </div>

                <div class="d-flex justify-content-between">
                    <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#projectDetailModal" onclick="fillProjectDetail('Dự án D')">Xem chi tiết</button>
                    <button class="btn btn-success btn-sm">Nhận dự án</button>
                </div>
            </div>
        </div>
    </div>
  </div>
</div>

<!-- Modal chi tiết dự án -->
<div class="modal fade" id="projectDetailModal" tabindex="-1" aria-labelledby="projectDetailModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="projectDetailModalLabel">Chi tiết dự án</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
      </div>
      <div class="modal-body">
        <h4 id="projectName">Tên dự án</h4>
        <div class="row">
          <div class="col-md-6">
            <p><strong>Ngày bắt đầu:</strong> 01/06/2025</p>
            <p><strong>Hạn hoàn thành:</strong> 30/08/2025</p>
            <p><strong>Trạng thái:</strong> <span class="badge bg-warning text-dark">Đang triển khai</span></p>
            <p><strong>Ưu tiên:</strong> <span class="badge bg-danger">Cao</span></p>
            <p><strong>Tiến độ:</strong></p>
            <div class="progress mb-3">
              <div class="progress-bar bg-success" style="width: 65%;">65%</div>
            </div>
          </div>
          <div class="col-md-6">
            <p><strong>Người giao dự án:</strong> Nguyễn Văn A</p>
            <p><strong>Người nhận dự án:</strong> Trần Thị B</p>
            <p><strong>Email:</strong> <a href="mailto:abc@example.com">abc@example.com</a></p>
            <p><strong>Điện thoại:</strong> 0901234567</p>
          </div>
        </div>
        <div class="mb-3">
          <p><strong>Mô tả dự án:</strong></p>
          <p>Dự án A tập trung xây dựng hệ thống quản lý bán hàng trực tuyến với các chức năng quản lý sản phẩm, khách hàng, đơn hàng...</p>
        </div>
        <div class="mb-3">
          <label for="note" class="form-label"><strong>Ghi chú</strong></label>
          <textarea class="form-control" id="note" rows="3" placeholder="Nhập ghi chú..."></textarea>
        </div>
        <div class="mb-3">
          <label for="fileUpload" class="form-label"><strong>Tải tệp đính kèm</strong></label>
          <input type="file" class="form-control" id="fileUpload">
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
        <button type="button" class="btn btn-success">Lưu</button>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
  function fillProjectDetail(name) {
    document.getElementById("projectName").innerText = name;
    // TODO: khi kết nối BE, hãy load dữ liệu dựa vào tên dự án hoặc id
  }
</script>