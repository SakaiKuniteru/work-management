<div class="container mt-3">
    <div class="cover-wrapper position-relative">
        <!-- Ảnh bìa -->
        <a href="https://scontent.fhan4-4.fna.fbcdn.net/v/t39.30808-6/482327573_681928960841027_3576385229933483554_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=cc71e4&_nc_eui2=AeHqBeFyNfYpHdB1aV4odQRd9ptyMzRlxBT2m3IzNGXEFCPvZJTBeM_BZ1TewZq83R2fDfAGF64cVmvZmB-IKbyZ&_nc_ohc=qsH_ahJDp4AQ7kNvwEjiwzp&_nc_oc=AdlbJIWF8h4f_XCK1JJNI-ItzxVAdViYhWhKs5erpi632oaKosuqQ2FgFBgK-OQEHFk&_nc_zt=23&_nc_ht=scontent.fhan4-4.fna&_nc_gid=y9pVrGhboTk0e4eFbdg53w&oh=00_AfMeyDsep6KU_mWThJqvthqPBMnwHV8vJy-Zbz9mwhv_-Q&oe=68672B82">
            <img 
            src="https://scontent.fhan4-4.fna.fbcdn.net/v/t39.30808-6/482327573_681928960841027_3576385229933483554_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=cc71e4&_nc_eui2=AeHqBeFyNfYpHdB1aV4odQRd9ptyMzRlxBT2m3IzNGXEFCPvZJTBeM_BZ1TewZq83R2fDfAGF64cVmvZmB-IKbyZ&_nc_ohc=qsH_ahJDp4AQ7kNvwEjiwzp&_nc_oc=AdlbJIWF8h4f_XCK1JJNI-ItzxVAdViYhWhKs5erpi632oaKosuqQ2FgFBgK-OQEHFk&_nc_zt=23&_nc_ht=scontent.fhan4-4.fna&_nc_gid=y9pVrGhboTk0e4eFbdg53w&oh=00_AfMeyDsep6KU_mWThJqvthqPBMnwHV8vJy-Zbz9mwhv_-Q&oe=68672B82" 
            id="coverPhoto"
            class="w-100 rounded"
            style="height: 300px; object-fit: cover;"
            alt="Ảnh bìa"
            >
        </a>

        <!-- Nút camera đổi ảnh bìa -->
        <button 
        class="btn btn-light btn-sm position-absolute top-0 end-0 m-2" 
        id="changeCoverBtn"
        title="Đổi ảnh bìa">
            <i class="bi bi-camera"></i>
        </button>

        <!-- Avatar container -->
        <div class="avatar-container">
            <div class="avatar-wrapper">
                <img 
                src="https://scontent.fhan4-4.fna.fbcdn.net/v/t39.30808-1/484895554_685047493862507_8119295966222777149_n.jpg?stp=dst-jpg_s480x480_tt6&_nc_cat=102&ccb=1-7&_nc_sid=1d2534&_nc_eui2=AeHVz6OOdojcR5eMlLsI44HLtZT5pIfuw4u1lPmkh-7Di38f6dfoMci9ehxHhSTgYDvyvxeRnGvCo0fdfXbdmhn3&_nc_ohc=caectHl2dC0Q7kNvwFZpmTp&_nc_oc=AdlzuM-4EqEXpj0a8NXp2aWixsOMa7ZpPS2qwivLi7ymF5mUyALOjAifZ68WPVmObys&_nc_zt=24&_nc_ht=scontent.fhan4-4.fna&_nc_gid=y9pVrGhboTk0e4eFbdg53w&oh=00_AfNDXzTpJn6u7gi6PzXS63ElFdFnt_h3KsSSGGgAqsQ6SA&oe=68673F57" 
                id="avatarPhoto"
                class="avatar-img dropdown-toggle"
                data-bs-toggle="dropdown"
                aria-expanded="false"
                alt="Avatar"
                style="cursor: pointer;"
                >

                <button 
                    class="btn btn-light btn-sm change-avatar-btn" 
                    id="changeAvatarBtn" 
                    title="Đổi ảnh đại diện">
                        <i class="bi bi-camera"></i>
                </button>

                <ul class="dropdown-menu">
                    <li>
                        <a class="dropdown-item" href="#">
                            <i class="bi bi-upload me-2"></i>
                            Thêm ảnh mới
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="https://scontent.fhan4-4.fna.fbcdn.net/v/t39.30808-1/484895554_685047493862507_8119295966222777149_n.jpg?stp=dst-jpg_s480x480_tt6&_nc_cat=102&ccb=1-7&_nc_sid=1d2534&_nc_eui2=AeHVz6OOdojcR5eMlLsI44HLtZT5pIfuw4u1lPmkh-7Di38f6dfoMci9ehxHhSTgYDvyvxeRnGvCo0fdfXbdmhn3&_nc_ohc=caectHl2dC0Q7kNvwFZpmTp&_nc_oc=AdlzuM-4EqEXpj0a8NXp2aWixsOMa7ZpPS2qwivLi7ymF5mUyALOjAifZ68WPVmObys&_nc_zt=24&_nc_ht=scontent.fhan4-4.fna&_nc_gid=y9pVrGhboTk0e4eFbdg53w&oh=00_AfNDXzTpJn6u7gi6PzXS63ElFdFnt_h3KsSSGGgAqsQ6SA&oe=68673F57">
                            <i class="bi bi-eye me-2"></i>
                            Xem ảnh
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <input type="file" id="coverInput" hidden>
    <input type="file" id="avatarInput" hidden>

    <!-- Profile info -->
    <div class="mt-3 d-flex justify-content-between align-items-center flex-wrap">
        <div>
            <h2 class="profile-name mb-0">PhẠm QuỐc HuY</h2>
            <small class="text-muted">100 Đồng nghiệp</small>
        </div>

        {{!-- <div class="d-flex gap-2 mt-2 mt-md-0">
            <button class="btn btn-primary btn-sm">Công cụ chuyên nghiệp</button>
            <button class="btn btn-outline-secondary btn-sm">Chỉnh sửa</button>
            <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                + Thêm vào tin
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Đăng tin</a></li>
                <li><a class="dropdown-item" href="#">Tải ảnh lên</a></li>
            </ul>
        </div> --}}
    </div>

    <!-- Tabs -->
    <ul class="nav nav-tabs mt-4" id="profileTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="posts-tab" data-bs-toggle="tab" data-bs-target="#posts" type="button" role="tab" aria-controls="posts" aria-selected="true">Bài viết</button>
        </li>

        <li class="nav-item" role="presentation">
            <button class="nav-link" id="about-tab" data-bs-toggle="tab" data-bs-target="#about" type="button" role="tab" aria-controls="about" aria-selected="false">Giới thiệu</button>
        </li>

        <li class="nav-item" role="presentation">
            <button class="nav-link" id="dashboard-tab" data-bs-toggle="tab" data-bs-target="#dashboard" type="button" role="tab" aria-controls="dashboard" aria-selected="false">Bảng điều khiển</button>
        </li>

        <li class="nav-item" role="presentation">
            <button class="nav-link" id="photos-tab" data-bs-toggle="tab" data-bs-target="#photos" type="button" role="tab" aria-controls="photos" aria-selected="false">Ảnh</button>
        </li>
    </ul>

    <div class="tab-content p-3 bg-white border border-top-0 rounded-bottom" id="profileTabsContent">
        <div class="tab-pane fade show active" id="posts" role="tabpanel" aria-labelledby="posts-tab">
            <h5>Bài viết</h5>
            <p>Hiển thị các bài viết ở đây...</p>
        </div>

        <div class="tab-pane fade" id="about" role="tabpanel" aria-labelledby="about-tab">
            <table class="table table-borderless">
                <tbody>
                    <tr>
                        <th scope="row" style="width: 200px;">Họ tên</th>
                        <td>Phạm Quốc Huy</td>
                    </tr>

                    <tr>
                        <th scope="row">Bí danh</th>
                        <td>Huy Phạm</td>
                    </tr>

                    <tr>
                        <th scope="row">Tuổi</th>
                        <td>22</td>
                    </tr>

                    <tr>
                        <th scope="row">Ngày sinh</th>
                        <td>08/08/2003</td>
                    </tr>

                    <tr>
                        <th scope="row">Giới tính</th>
                        <td>Nam</td>
                    </tr>

                    <tr>
                        <th scope="row">Tình trạng hôn nhân</th>
                        <td>Độc thân</td>
                    </tr>

                    <tr>
                        <th scope="row">Chức vụ</th>
                        <td>Kỹ sư Phần mềm</td>
                    </tr>

                    <tr>
                        <th scope="row">Mã nhân viên</th>
                        <td>NV21110084</td>
                    </tr>

                    <tr>
                        <th scope="row">Số điện thoại</th>
                        <td>0987 654 321</td>
                    </tr>

                    <tr>
                        <th scope="row">Email</th>
                        <td>
                            <a href="mailto:Quochuyks2k3@gmail.com">Quochuyks2k3@gmail.com</a>
                        </td>
                    </tr>

                    <tr>
                        <th scope="row">Nơi ở hiện tại</th>
                        <td>Số 38D ngõ 40, Chính Kinh, Nhân Chính, Thanh Xuân,Hà Nội, Việt Nam</td>
                    </tr>

                    <tr>
                        <th scope="row">Quê quán</th>
                        <td>Xóm 2, Yên Lộc, Kim Sơn, Ninh Bình, Việt Nam</td>
                    </tr>

                    <tr>
                        <th scope="row">Sở thích</th>
                        <td>Lập trình, du lịch, nhiếp ảnh, âm nhạc</td>
                    </tr>

                    <tr>
                        <th scope="row">Mạng xã hội</th>
                        <td>
                            <a href="#">Facebook</a> ·
                            <a href="#">LinkedIn</a> ·
                            <a href="#">Instagram</a>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="text-center">
                <button type="button" class="btn btn-success">
                    Sửa thông tin
                </button>
            </div>
        </div>

        <div class="tab-pane fade" id="dashboard" role="tabpanel" aria-labelledby="dashboard-tab">
            <div class="container mt-4">
                <div class="row g-3">
                    <div class="col-md-3">
                        <div class="card text-white bg-primary card-stat" data-type="task" style="cursor: pointer;">
                            <div class="card-body text-center">
                                <h5 class="card-title">Nhiệm vụ</h5>
                                <p class="display-6 fw-bold">12</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-3">
                        <div class="card text-white bg-success card-stat" data-type="project" style="cursor: pointer;">
                            <div class="card-body text-center">
                                <h5 class="card-title">Dự án</h5>
                                <p class="display-6 fw-bold">5</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-3">
                        <div class="card text-white bg-danger card-stat" data-type="message" style="cursor: pointer;">
                            <div class="card-body text-center">
                                <h5 class="card-title">Tin nhắn</h5>
                                <p class="display-6 fw-bold">5</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-3">
                        <div class="card text-white bg-warning card-stat" data-type="notification" style="cursor: pointer;">
                            <div class="card-body text-center">
                                <h5 class="card-title">Thông báo</h5>
                                <p class="display-6 fw-bold">3</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <!-- Biểu đồ -->
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header" id="chartTitle">
                                Tiến độ nhiệm vụ
                            </div>
                            
                            <div class="card-body">
                                <canvas id="chart" height="200"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Bảng dữ liệu thay đổi -->
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header" id="tableTitle">
                                Nhiệm vụ gần đây
                            </div>

                            <div class="card-body" id="tableContent">
                            <!-- Mặc định bảng nhiệm vụ gần đây -->
                                <table class="table table-striped table-sm">
                                    <thead>
                                        <tr>
                                            <th>Tên nhiệm vụ</th>
                                            <th>Hạn</th>
                                            <th>Trạng thái</th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                        <tr>
                                            <td>Hoàn thiện báo cáo</td>
                                            <td>30/06/2025</td>
                                            <td>
                                                <span class="badge bg-warning text-dark">Đang làm</span>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td>Kiểm tra hệ thống</td>
                                            <td>28/06/2025</td>
                                            <td>
                                                <span class="badge bg-success">Hoàn thành</span>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td>Triển khai dự án A</td>
                                            <td>05/07/2025</td>
                                            <td>
                                                <span class="badge bg-danger">Chưa bắt đầu</span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tab-pane fade" id="photos" role="tabpanel" aria-labelledby="photos-tab">
            <h5>Ảnh</h5>
            <div class="row g-3">
                <div class="col-6 col-md-3">
                    <img src="https://scontent.fhan4-4.fna.fbcdn.net/v/t39.30808-6/482327573_681928960841027_3576385229933483554_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=cc71e4&_nc_eui2=AeHqBeFyNfYpHdB1aV4odQRd9ptyMzRlxBT2m3IzNGXEFCPvZJTBeM_BZ1TewZq83R2fDfAGF64cVmvZmB-IKbyZ&_nc_ohc=qsH_ahJDp4AQ7kNvwEjiwzp&_nc_oc=AdlbJIWF8h4f_XCK1JJNI-ItzxVAdViYhWhKs5erpi632oaKosuqQ2FgFBgK-OQEHFk&_nc_zt=23&_nc_ht=scontent.fhan4-4.fna&_nc_gid=y9pVrGhboTk0e4eFbdg53w&oh=00_AfMeyDsep6KU_mWThJqvthqPBMnwHV8vJy-Zbz9mwhv_-Q&oe=68672B82" class="img-fluid rounded" alt="Ảnh 1">
                </div>

                <div class="col-6 col-md-3">
                    <img src="https://scontent.fhan4-4.fna.fbcdn.net/v/t39.30808-6/482327573_681928960841027_3576385229933483554_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=cc71e4&_nc_eui2=AeHqBeFyNfYpHdB1aV4odQRd9ptyMzRlxBT2m3IzNGXEFCPvZJTBeM_BZ1TewZq83R2fDfAGF64cVmvZmB-IKbyZ&_nc_ohc=qsH_ahJDp4AQ7kNvwEjiwzp&_nc_oc=AdlbJIWF8h4f_XCK1JJNI-ItzxVAdViYhWhKs5erpi632oaKosuqQ2FgFBgK-OQEHFk&_nc_zt=23&_nc_ht=scontent.fhan4-4.fna&_nc_gid=y9pVrGhboTk0e4eFbdg53w&oh=00_AfMeyDsep6KU_mWThJqvthqPBMnwHV8vJy-Zbz9mwhv_-Q&oe=68672B82" class="img-fluid rounded" alt="Ảnh 2">
                </div>

                <div class="col-6 col-md-3">
                    <img src="https://scontent.fhan4-4.fna.fbcdn.net/v/t39.30808-6/482327573_681928960841027_3576385229933483554_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=cc71e4&_nc_eui2=AeHqBeFyNfYpHdB1aV4odQRd9ptyMzRlxBT2m3IzNGXEFCPvZJTBeM_BZ1TewZq83R2fDfAGF64cVmvZmB-IKbyZ&_nc_ohc=qsH_ahJDp4AQ7kNvwEjiwzp&_nc_oc=AdlbJIWF8h4f_XCK1JJNI-ItzxVAdViYhWhKs5erpi632oaKosuqQ2FgFBgK-OQEHFk&_nc_zt=23&_nc_ht=scontent.fhan4-4.fna&_nc_gid=y9pVrGhboTk0e4eFbdg53w&oh=00_AfMeyDsep6KU_mWThJqvthqPBMnwHV8vJy-Zbz9mwhv_-Q&oe=68672B82" class="img-fluid rounded" alt="Ảnh 3">
                </div>

                <div class="col-6 col-md-3">
                    <img src="https://scontent.fhan4-4.fna.fbcdn.net/v/t39.30808-6/482327573_681928960841027_3576385229933483554_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=cc71e4&_nc_eui2=AeHqBeFyNfYpHdB1aV4odQRd9ptyMzRlxBT2m3IzNGXEFCPvZJTBeM_BZ1TewZq83R2fDfAGF64cVmvZmB-IKbyZ&_nc_ohc=qsH_ahJDp4AQ7kNvwEjiwzp&_nc_oc=AdlbJIWF8h4f_XCK1JJNI-ItzxVAdViYhWhKs5erpi632oaKosuqQ2FgFBgK-OQEHFk&_nc_zt=23&_nc_ht=scontent.fhan4-4.fna&_nc_gid=y9pVrGhboTk0e4eFbdg53w&oh=00_AfMeyDsep6KU_mWThJqvthqPBMnwHV8vJy-Zbz9mwhv_-Q&oe=68672B82" class="img-fluid rounded" alt="Ảnh 4">
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    let chartInstance;

    const chartData = {
        task: {
        title: "Tiến độ nhiệm vụ",
        labels: ["Đang làm", "Hoàn thành", "Chưa bắt đầu", "Chậm tiến độ"],
        data: [5, 3, 2, 2],
        colors: ["#ffc107", "#28a745", "#6c757d", "#dc3545"],
        tableTitle: "Nhiệm vụ gần đây",
        tableHtml: `
            <table class="table table-striped table-sm">
            <thead>
                <tr>
                <th>Tên nhiệm vụ</th>
                <th>Hạn</th>
                <th>Trạng thái</th>
                </tr>
            </thead>

            <tbody>
                <tr>
                <td>Hoàn thiện báo cáo</td>
                <td>30/06/2025</td>
                <td>
                    <span class="badge bg-warning text-dark">Đang làm</span>
                </td>
                </tr>

                <tr>
                <td>Kiểm tra hệ thống</td>
                <td>28/06/2025</td>
                <td>
                    <span class="badge bg-success">Hoàn thành</span>
                </td>
                </tr>

                <tr>
                <td>Triển khai dự án A</td>
                <td>05/07/2025</td>
                <td>
                    <span class="badge bg-danger">Chậm tiến độ</span>
                </td>
                </tr>

                <tr>
                <td>Soạn tài liệu hướng dẫn</td>
                <td>10/07/2025</td>
                <td>
                    <span class="badge bg-secondary">Chưa bắt đầu</span>
                </td>
                </tr>
            </tbody>
            </table>
        `
        },
        project: {
        title: "Tiến độ dự án",
        labels: ["Đang triển khai", "Đã hoàn thành", "Chưa khởi công", "Chậm tiến độ"],
        data: [2, 2, 1, 1],
        colors: ["#17a2b8", "#28a745", "#6c757d", "#dc3545"],
        tableTitle: "Dự án gần đây",
        tableHtml: `
            <table class="table table-striped table-sm">
            <thead>
                <tr>
                <th>Tên dự án</th>
                <th>Thời gian</th>
                <th>Trạng thái</th>
                </tr>
            </thead>

            <tbody>
                <tr>
                <td>Dự án A</td>
                <td>01/06/2025 - 30/09/2025</td>
                <td>
                    <span class="badge bg-info text-dark">Đang triển khai</span>
                </td>
                </tr>

                <tr>
                <td>Dự án B</td>
                <td>01/01/2025 - 31/03/2025</td>
                <td>
                    <span class="badge bg-success">Đã hoàn thành</span>
                </td>
                </tr>

                <tr>
                <td>Dự án C</td>
                <td>01/08/2025 - 31/12/2025</td>
                <td>
                    <span class="badge bg-secondary">Chưa khởi công</span>
                </td>
                </tr>

                <tr>
                <td>Dự án D</td>
                <td>01/05/2025 - 31/12/2025</td>
                <td>
                    <span class="badge bg-danger">Chậm tiến độ</span>
                </td>
                </tr>
            </tbody>
            </table>
        `
        }
    };

    function renderChart(type) {
        const data = chartData[type];
        if (!data) return;

        document.getElementById("chartTitle").innerText = data.title;

        if (chartInstance) {
        chartInstance.destroy();
        }

        const ctx = document.getElementById("chart").getContext("2d");
        chartInstance = new Chart(ctx, {
        type: "doughnut",
        data: {
            labels: data.labels,
            datasets: [{
            data: data.data,
            backgroundColor: data.colors
            }]
        },
        options: {
            plugins: {
            legend: { position: "bottom" }
            }
        }
        });

        document.getElementById("tableTitle").innerText = data.tableTitle;
        document.getElementById("tableContent").innerHTML = data.tableHtml;
    }

    // Load chart nhiệm vụ ban đầu
    renderChart("task");

    document.querySelectorAll(".card-stat").forEach(card => {
        card.addEventListener("click", () => {
        const type = card.dataset.type;

        if (type === "message") {
            const dropdown = new bootstrap.Dropdown(document.getElementById("messageBtn"));
            dropdown.show();
        } else if (type === "notification") {
            const dropdown = new bootstrap.Dropdown(document.getElementById("notificationBtn"));
            dropdown.show();
        } else {
            renderChart(type);
        }
        });
    });

    document.getElementById("changeCoverBtn").addEventListener("click", () => {
        document.getElementById("coverInput").click();
    });

    document.getElementById("coverInput").addEventListener("change", (e) => {
        const file = e.target.files[0];
        if (file) {
        const url = URL.createObjectURL(file);
        document.getElementById("coverPhoto").src = url;
        }
    });

    document.getElementById("changeAvatarBtn").addEventListener("click", () => {
        document.getElementById("avatarInput").click();
    });

    document.getElementById("avatarInput").addEventListener("change", (e) => {
        const file = e.target.files[0];
        if (file) {
        const url = URL.createObjectURL(file);
        document.getElementById("avatarPhoto").src = url;
        }
    });

    function viewAvatar() {
        const imgSrc = document.getElementById("avatarPhoto").src;
        window.open(imgSrc, "_blank");
    }
</script>